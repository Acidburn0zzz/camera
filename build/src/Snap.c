/* Snap.c generated by valac 0.14.0, the Vala compiler
 * generated from Snap.vala, do not modify */

/* -*- Mode: vala; indent-tabs-mode: nil; tab-width: 4 -*-*/

#include <glib.h>
#include <glib-object.h>
#include <granite.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <gst/gst.h>
#include <gio/gio.h>


#define SNAP_TYPE_SNAP_APP (snap_snap_app_get_type ())
#define SNAP_SNAP_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SNAP_TYPE_SNAP_APP, SnapSnapApp))
#define SNAP_SNAP_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SNAP_TYPE_SNAP_APP, SnapSnapAppClass))
#define SNAP_IS_SNAP_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SNAP_TYPE_SNAP_APP))
#define SNAP_IS_SNAP_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SNAP_TYPE_SNAP_APP))
#define SNAP_SNAP_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SNAP_TYPE_SNAP_APP, SnapSnapAppClass))

typedef struct _SnapSnapApp SnapSnapApp;
typedef struct _SnapSnapAppClass SnapSnapAppClass;
typedef struct _SnapSnapAppPrivate SnapSnapAppPrivate;

#define SNAP_TYPE_SNAP_WINDOW (snap_snap_window_get_type ())
#define SNAP_SNAP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SNAP_TYPE_SNAP_WINDOW, SnapSnapWindow))
#define SNAP_SNAP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SNAP_TYPE_SNAP_WINDOW, SnapSnapWindowClass))
#define SNAP_IS_SNAP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SNAP_TYPE_SNAP_WINDOW))
#define SNAP_IS_SNAP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SNAP_TYPE_SNAP_WINDOW))
#define SNAP_SNAP_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SNAP_TYPE_SNAP_WINDOW, SnapSnapWindowClass))

typedef struct _SnapSnapWindow SnapSnapWindow;
typedef struct _SnapSnapWindowClass SnapSnapWindowClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))

struct _SnapSnapApp {
	GraniteApplication parent_instance;
	SnapSnapAppPrivate * priv;
	SnapSnapWindow* window;
};

struct _SnapSnapAppClass {
	GraniteApplicationClass parent_class;
};


static gpointer snap_snap_app_parent_class = NULL;
static gchar* snap_snap_app_app_cmd_name;
static gchar* snap_snap_app_app_cmd_name = NULL;

GType snap_snap_app_get_type (void) G_GNUC_CONST;
GType snap_snap_window_get_type (void) G_GNUC_CONST;
enum  {
	SNAP_SNAP_APP_DUMMY_PROPERTY
};
SnapSnapApp* snap_snap_app_new (void);
SnapSnapApp* snap_snap_app_construct (GType object_type);
static void snap_snap_app_real_activate (GApplication* base);
SnapSnapWindow* snap_snap_window_new (SnapSnapApp* snap_app);
SnapSnapWindow* snap_snap_window_construct (GType object_type, SnapSnapApp* snap_app);
gint snap_snap_app_main (gchar** args, int args_length1);
static GObject * snap_snap_app_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
#define CONSTANTS_DATADIR "/usr/local/share"
#define CONSTANTS_PKGDATADIR "/usr/local/share/snap"
#define CONSTANTS_RELEASE_NAME "."
#define CONSTANTS_VERSION "0.1"
#define CONSTANTS_VERSION_INFO "Release"
static void snap_snap_app_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


SnapSnapApp* snap_snap_app_construct (GType object_type) {
	SnapSnapApp * self = NULL;
	GraniteServicesLogLevel _tmp0_;
	GraniteServicesLogLevel _tmp1_;
	self = (SnapSnapApp*) granite_application_construct (object_type);
	granite_services_logger_initialize ("Snap");
	_tmp0_ = granite_services_logger_get_DisplayLevel ();
	_tmp1_ = _tmp0_;
	granite_services_logger_set_DisplayLevel (GRANITE_SERVICES_LOG_LEVEL_DEBUG);
	return self;
}


SnapSnapApp* snap_snap_app_new (void) {
	return snap_snap_app_construct (SNAP_TYPE_SNAP_APP);
}


static void snap_snap_app_real_activate (GApplication* base) {
	SnapSnapApp * self;
	GList* _tmp0_ = NULL;
	self = (SnapSnapApp*) base;
	_tmp0_ = gtk_application_get_windows ((GtkApplication*) self);
	if (_tmp0_ == NULL) {
		SnapSnapWindow* _tmp1_;
		SnapSnapWindow* _tmp2_;
		SnapSnapWindow* _tmp3_;
		_tmp1_ = snap_snap_window_new (self);
		_tmp2_ = g_object_ref_sink (_tmp1_);
		_g_object_unref0 (self->window);
		self->window = _tmp2_;
		_tmp3_ = self->window;
		gtk_widget_show ((GtkWidget*) _tmp3_);
	} else {
		SnapSnapWindow* _tmp4_;
		_tmp4_ = self->window;
		gtk_window_present ((GtkWindow*) _tmp4_);
	}
}


gint snap_snap_app_main (gchar** args, int args_length1) {
	gint result = 0;
	gchar* _tmp0_;
	SnapSnapApp* _tmp1_;
	SnapSnapApp* app;
	gchar** _tmp2_;
	gint _tmp2__length1;
	gint _tmp3_ = 0;
	_tmp0_ = g_strdup ("Snap");
	_g_free0 (snap_snap_app_app_cmd_name);
	snap_snap_app_app_cmd_name = _tmp0_;
	gtk_init (&args_length1, &args);
	gst_init (&args_length1, &args);
	_tmp1_ = snap_snap_app_new ();
	app = _tmp1_;
	_tmp2_ = args;
	_tmp2__length1 = args_length1;
	_tmp3_ = granite_application_run ((GraniteApplication*) app, _tmp2_, _tmp2__length1);
	result = _tmp3_;
	_g_object_unref0 (app);
	return result;
}


int main (int argc, char ** argv) {
	g_type_init ();
	return snap_snap_app_main (argv, argc);
}


static GObject * snap_snap_app_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	SnapSnapApp * self;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	const gchar* _tmp5_;
	gchar* _tmp6_;
	const gchar* _tmp7_;
	gchar* _tmp8_ = NULL;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	gchar** _tmp17_ = NULL;
	parent_class = G_OBJECT_CLASS (snap_snap_app_parent_class);
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
	self = SNAP_SNAP_APP (obj);
	_tmp0_ = g_strdup (CONSTANTS_DATADIR);
	_g_free0 (((GraniteApplication*) self)->build_data_dir);
	((GraniteApplication*) self)->build_data_dir = _tmp0_;
	_tmp1_ = g_strdup (CONSTANTS_PKGDATADIR);
	_g_free0 (((GraniteApplication*) self)->build_pkg_data_dir);
	((GraniteApplication*) self)->build_pkg_data_dir = _tmp1_;
	_tmp2_ = g_strdup (CONSTANTS_RELEASE_NAME);
	_g_free0 (((GraniteApplication*) self)->build_release_name);
	((GraniteApplication*) self)->build_release_name = _tmp2_;
	_tmp3_ = g_strdup (CONSTANTS_VERSION);
	_g_free0 (((GraniteApplication*) self)->build_version);
	((GraniteApplication*) self)->build_version = _tmp3_;
	_tmp4_ = g_strdup (CONSTANTS_VERSION_INFO);
	_g_free0 (((GraniteApplication*) self)->build_version_info);
	((GraniteApplication*) self)->build_version_info = _tmp4_;
	_tmp5_ = snap_snap_app_app_cmd_name;
	_tmp6_ = g_strdup (_tmp5_);
	_g_free0 (((GraniteApplication*) self)->program_name);
	((GraniteApplication*) self)->program_name = _tmp6_;
	_tmp7_ = snap_snap_app_app_cmd_name;
	_tmp8_ = g_utf8_strdown (_tmp7_, (gssize) (-1));
	_g_free0 (((GraniteApplication*) self)->exec_name);
	((GraniteApplication*) self)->exec_name = _tmp8_;
	_tmp9_ = g_strdup ("2011");
	_g_free0 (((GraniteApplication*) self)->app_years);
	((GraniteApplication*) self)->app_years = _tmp9_;
	_tmp10_ = g_strdup ("");
	_g_free0 (((GraniteApplication*) self)->app_icon);
	((GraniteApplication*) self)->app_icon = _tmp10_;
	_tmp11_ = g_strdup ("snap.desktop");
	_g_free0 (((GraniteApplication*) self)->app_launcher);
	((GraniteApplication*) self)->app_launcher = _tmp11_;
	g_application_set_application_id ((GApplication*) self, "net.launchpad.snap");
	_tmp12_ = g_strdup ("https://launchpad.net/snap");
	_g_free0 (((GraniteApplication*) self)->main_url);
	((GraniteApplication*) self)->main_url = _tmp12_;
	_tmp13_ = g_strdup ("https://bugs.launchpad.net/snap");
	_g_free0 (((GraniteApplication*) self)->bug_url);
	((GraniteApplication*) self)->bug_url = _tmp13_;
	_tmp14_ = g_strdup ("https://answers.launchpad.net/snap");
	_g_free0 (((GraniteApplication*) self)->help_url);
	((GraniteApplication*) self)->help_url = _tmp14_;
	_tmp15_ = g_strdup ("https://translations.launchpad.net/snap");
	_g_free0 (((GraniteApplication*) self)->translate_url);
	((GraniteApplication*) self)->translate_url = _tmp15_;
	_tmp16_ = g_strdup ("Mario Guerriero <mefrio.g@gmail.com>");
	_tmp17_ = g_new0 (gchar*, 2 + 1);
	_tmp17_[0] = _tmp16_;
	_tmp17_[1] = NULL;
	((GraniteApplication*) self)->about_authors = (_vala_array_free (((GraniteApplication*) self)->about_authors, ((GraniteApplication*) self)->about_authors_length1, (GDestroyNotify) g_free), NULL);
	((GraniteApplication*) self)->about_authors = _tmp17_;
	((GraniteApplication*) self)->about_authors_length1 = 2;
	((GraniteApplication*) self)->about_license_type = GTK_LICENSE_GPL_3_0;
	return obj;
}


static void snap_snap_app_class_init (SnapSnapAppClass * klass) {
	snap_snap_app_parent_class = g_type_class_peek_parent (klass);
	G_APPLICATION_CLASS (klass)->activate = snap_snap_app_real_activate;
	G_OBJECT_CLASS (klass)->constructor = snap_snap_app_constructor;
	G_OBJECT_CLASS (klass)->finalize = snap_snap_app_finalize;
}


static void snap_snap_app_instance_init (SnapSnapApp * self) {
	self->window = NULL;
}


static void snap_snap_app_finalize (GObject* obj) {
	SnapSnapApp * self;
	self = SNAP_SNAP_APP (obj);
	_g_object_unref0 (self->window);
	G_OBJECT_CLASS (snap_snap_app_parent_class)->finalize (obj);
}


GType snap_snap_app_get_type (void) {
	static volatile gsize snap_snap_app_type_id__volatile = 0;
	if (g_once_init_enter (&snap_snap_app_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SnapSnapAppClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) snap_snap_app_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SnapSnapApp), 0, (GInstanceInitFunc) snap_snap_app_instance_init, NULL };
		GType snap_snap_app_type_id;
		snap_snap_app_type_id = g_type_register_static (GRANITE_TYPE_APPLICATION, "SnapSnapApp", &g_define_type_info, 0);
		g_once_init_leave (&snap_snap_app_type_id__volatile, snap_snap_app_type_id);
	}
	return snap_snap_app_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



